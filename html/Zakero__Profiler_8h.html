<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zakero&#39;s C++ Header Libraries: Zakero_Profiler.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zakero&#39;s C++ Header Libraries
   </div>
   <div id="projectbrief">A collection of reusable C++ libraries</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">Zakero_Profiler.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Zakero Profiler.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
Include dependency graph for Zakero_Profiler.h:</div>
<div class="dyncontent">
<div class="center"><img src="Zakero__Profiler_8h__incl.png" border="0" usemap="#Zakero__Profiler_8h" alt=""/></div>
<map name="Zakero__Profiler_8h" id="Zakero__Profiler_8h">
<area shape="rect" title="Zakero Profiler." alt="" coords="217,5,337,32"/>
<area shape="rect" title=" " alt="" coords="257,169,318,196"/>
<area shape="rect" title=" " alt="" coords="30,87,84,114"/>
<area shape="rect" title=" " alt="" coords="109,87,176,114"/>
<area shape="rect" title=" " alt="" coords="200,87,272,114"/>
<area shape="rect" title=" " alt="" coords="296,87,343,114"/>
<area shape="rect" title=" " alt="" coords="368,87,426,114"/>
<area shape="rect" title=" " alt="" coords="450,80,589,121"/>
<area shape="rect" href="Zakero__Base_8h.html" title="Zakero Base." alt="" coords="613,87,722,114"/>
<area shape="rect" title=" " alt="" coords="639,169,696,196"/>
</map>
</div>
</div>
<p><a href="Zakero__Profiler_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3ac092a8bdae7abde5d56533a2962b1f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Zakero__Profiler_8h.html#a3ac092a8bdae7abde5d56533a2962b1f">ZAKERO_PROFILER_ACTIVATE</a></td></tr>
<tr class="memdesc:a3ac092a8bdae7abde5d56533a2962b1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate Profiling.  <a href="Zakero__Profiler_8h.html#a3ac092a8bdae7abde5d56533a2962b1f">More...</a><br /></td></tr>
<tr class="separator:a3ac092a8bdae7abde5d56533a2962b1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac845a1a392f5844e9a3b48d51e000ad6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Zakero__Profiler_8h.html#ac845a1a392f5844e9a3b48d51e000ad6">ZAKERO_PROFILER_DEACTIVATE</a></td></tr>
<tr class="memdesc:ac845a1a392f5844e9a3b48d51e000ad6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivate Profiling.  <a href="Zakero__Profiler_8h.html#ac845a1a392f5844e9a3b48d51e000ad6">More...</a><br /></td></tr>
<tr class="separator:ac845a1a392f5844e9a3b48d51e000ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fb46343893d03f6703c076e08ba9222"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Zakero__Profiler_8h.html#a7fb46343893d03f6703c076e08ba9222">ZAKERO_PROFILER_DURATION</a>(category_,  name_)</td></tr>
<tr class="memdesc:a7fb46343893d03f6703c076e08ba9222"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate profiler data.  <a href="Zakero__Profiler_8h.html#a7fb46343893d03f6703c076e08ba9222">More...</a><br /></td></tr>
<tr class="separator:a7fb46343893d03f6703c076e08ba9222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab349b39120e78e1fcf5ebb78caf64a8d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Zakero__Profiler_8h.html#ab349b39120e78e1fcf5ebb78caf64a8d">ZAKERO_PROFILER_ENABLE</a></td></tr>
<tr class="memdesc:ab349b39120e78e1fcf5ebb78caf64a8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the profiler.  <a href="Zakero__Profiler_8h.html#ab349b39120e78e1fcf5ebb78caf64a8d">More...</a><br /></td></tr>
<tr class="separator:ab349b39120e78e1fcf5ebb78caf64a8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae3a1c9d9e314ee27b744c227291b08d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Zakero__Profiler_8h.html#aae3a1c9d9e314ee27b744c227291b08d">ZAKERO_PROFILER_IMPLEMENTATION</a></td></tr>
<tr class="memdesc:aae3a1c9d9e314ee27b744c227291b08d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate the implementation code.  <a href="Zakero__Profiler_8h.html#aae3a1c9d9e314ee27b744c227291b08d">More...</a><br /></td></tr>
<tr class="separator:aae3a1c9d9e314ee27b744c227291b08d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebd421bc3f379654c8c967b5d31de6d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Zakero__Profiler_8h.html#aebd421bc3f379654c8c967b5d31de6d1">ZAKERO_PROFILER_INIT</a>(output_)</td></tr>
<tr class="memdesc:aebd421bc3f379654c8c967b5d31de6d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the profiler.  <a href="Zakero__Profiler_8h.html#aebd421bc3f379654c8c967b5d31de6d1">More...</a><br /></td></tr>
<tr class="separator:aebd421bc3f379654c8c967b5d31de6d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ceea5bce20025d829bdf08fdc760a94"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Zakero__Profiler_8h.html#a8ceea5bce20025d829bdf08fdc760a94">ZAKERO_PROFILER_INIT_METADATA</a>(output_,  meta_data_)</td></tr>
<tr class="memdesc:a8ceea5bce20025d829bdf08fdc760a94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the profiler.  <a href="Zakero__Profiler_8h.html#a8ceea5bce20025d829bdf08fdc760a94">More...</a><br /></td></tr>
<tr class="separator:a8ceea5bce20025d829bdf08fdc760a94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0ee9f417543af61089189a8ba01bcbb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Zakero__Profiler_8h.html#af0ee9f417543af61089189a8ba01bcbb">ZAKERO_PROFILER_INSTANT</a>(category_,  name_)</td></tr>
<tr class="memdesc:af0ee9f417543af61089189a8ba01bcbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate profiler data.  <a href="Zakero__Profiler_8h.html#af0ee9f417543af61089189a8ba01bcbb">More...</a><br /></td></tr>
<tr class="separator:af0ee9f417543af61089189a8ba01bcbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An invasive profiler to provide timing data output.</p>
<dl class="section note"><dt>Note</dt><dd>"Invasive" means that you must add profiler code to your source code.</dd></dl>
<p>\dependencies</p><ul>
<li><a class="el" href="Zakero__Base_8h.html" title="Zakero Base.">Zakero_Base.h</a><br  />
</li>
</ul>
<dl class="section user"><dt>TL;DR:</dt><dd><p class="startdd">This library will generate profiling data while your application is running. <br  />
 To use, add the implementation to a source code file: </p><div class="fragment"><div class="line"><span class="preprocessor">#define ZAKERO_PROFILER_IMPLEMENTATION</span></div>
<div class="line"><span class="preprocessor">#include &quot;path/to/Zakero_Profiler.h&quot;</span></div>
</div><!-- fragment --><p class="interdd">Next, add the library to the source code where it is "always enabled" </p><div class="fragment"><div class="line"><span class="preprocessor">#define ZAKERO_PROFILER_ENABLE</span></div>
<div class="line"><span class="preprocessor">#include &quot;path/to/Zakero_Profiler.h&quot;</span></div>
</div><!-- fragment --><p class="interdd">Or. enable the profiler at compile time. Only include the library in the source code: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;path/to/Zakero_Profiler.h&quot;</span></div>
</div><!-- fragment --><p class="interdd">Then use a compiler flag when building: </p><div class="fragment"><div class="line">-DZAKERO_PROFILER_ENABLE</div>
</div><!-- fragment --><p class="enddd">Finally, add the profiler macros to your code. </p>
</dd></dl>
<dl class="section user"><dt>What Is It?</dt><dd><p class="startdd">Profiling a program helps you determine how much time is being used by different sections of code. This information can be used to determine where code optimizations will have the most pay-off or help locate an area that does not perform consistently.</p>
<p class="interdd"><b>If your program is crashing or has some other catastrophic bug, profiling will not help you.</b></p>
<p class="interdd">The <em>Zakero Profiler</em> is an "internal" profiler that can be added to your C++ code. An "internal" profiler has a few advantages over "external" profilers, such as "gprof". These advantages include:</p><ul>
<li>You have full control of what is profiled: Add profiling where it matters.</li>
<li>Profiling as it happens, instead of runtime snapshots which can miss details.</li>
<li>This implementation has Zero-Cost if not enabled.</li>
</ul>
<p class="enddd">The disadvantage of "internal" profilers is code-clutter. You must litter your code with profiler stuff which can make code harder to read. This implementation is no different, but it does try to keep the mess to a minimum by using a few macros. </p>
</dd></dl>
<dl class="section user"><dt>Why Use It?</dt><dd><p class="startdd">The first benefit is the generated profiler output is JSON formatted. There are many JSON parsers available allowing you to parse and use the data easily. Which leads into the main benefit...</p>
<p class="interdd">The main benefit of using the <em>Zakero Profiler</em> is that you can visualize the profiler data in Google Chrome and Chromium. No need to write your own visualization code.</p>
<p class="enddd">And the final reason to use the <em>Zakero Profiler</em> is that it is a "Single 
Header Library". Just include the header file where ever you need or want to add profiling. </p>
</dd></dl>
<dl class="section user"><dt>How To Use It?</dt><dd><p class="startdd"><b>Step 0</b></p>
<p class="interdd">Your compiler must support at least the C++20 standard.</p>
<p class="interdd"><b>Step 1</b></p>
<p class="interdd">The first step is to select which C++ source code file will contain the <em>Zakero Profiler</em> implementation. Once the location has been determined, add the following to that file:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define ZAKERO_PROFILER_IMPLEMENTATION</span></div>
<div class="line"><span class="preprocessor">#include &quot;path/to/Zakero_Profiler.h&quot;</span></div>
</div><!-- fragment --><p class="interdd">The macro <a class="el" href="Zakero__Profiler_8h.html#aae3a1c9d9e314ee27b744c227291b08d">ZAKERO_PROFILER_IMPLEMENTATION</a> tells the header file to include the implementation of the profiler.</p>
<p class="interdd">In all other files that will use the <em>Zakero Profiler</em>, they need to include the header. In addition to including the header, the profiler must be enabled by defining the <a class="el" href="Zakero__Profiler_8h.html#ab349b39120e78e1fcf5ebb78caf64a8d">ZAKERO_PROFILER_ENABLE</a> macro.</p>
<p class="interdd">The easiest way to do this is to always have the <em>Zakero_Profiler</em> enabled:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define ZAKERO_PROFILER_ENABLE</span></div>
<div class="line"><span class="preprocessor">#include &quot;path/to/Zakero_Profiler.h&quot;</span></div>
</div><!-- fragment --><p class="interdd">This, however, is not very realistic. A better solution is to configure your build system to define <a class="el" href="Zakero__Profiler_8h.html#ab349b39120e78e1fcf5ebb78caf64a8d">ZAKERO_PROFILER_ENABLE</a> when needed and add the <em>Zakero Profiler</em> header and macros where desired.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;path/to/Zakero_Profiler.h&quot;</span></div>
</div><!-- fragment --><p class="interdd">And if your "build system" is the command-line, the following will turn on profiling:</p>
<div class="fragment"><div class="line">&gt; g++ ... -DZAKERO_PROFILER_ENABLE ...</div>
</div><!-- fragment --><p class="interdd">If the <a class="el" href="Zakero__Profiler_8h.html#ab349b39120e78e1fcf5ebb78caf64a8d">ZAKERO_PROFILER_ENABLE</a> macro is <b>not</b> defined, all the other marcos in this library will be disabled. With compiler optimizations turned on, -O2, the unused profiler code should be removed from the resulting executable.</p>
<p class="interdd"><b>Step 2</b></p>
<p class="interdd">Next, is to initialize the <em>Zakero Profiler</em>. Somewhere in your code, before any profiling is done (such as in <em>main()</em>) add one of the initializer macros (<a class="el" href="Zakero__Profiler_8h.html#aebd421bc3f379654c8c967b5d31de6d1" title="Initialize the profiler.">ZAKERO_PROFILER_INIT()</a>, <a class="el" href="Zakero__Profiler_8h.html#a8ceea5bce20025d829bdf08fdc760a94" title="Initialize the profiler.">ZAKERO_PROFILER_INIT_METADATA()</a>).</p>
<p class="interdd">The following example will have the <em>Zakero Profiler</em> write to a file and include information about the application.</p>
<div class="fragment"><div class="line">zakero::Profiler::MetaData meta_data =</div>
<div class="line">{       { <span class="stringliteral">&quot;application&quot;</span>, <span class="stringliteral">&quot;MyApp&quot;</span>                      }</div>
<div class="line">,       { <span class="stringliteral">&quot;version&quot;</span>,     <span class="stringliteral">&quot;1.0.0&quot;</span>                      }</div>
<div class="line">,       { <span class="stringliteral">&quot;intent&quot;</span>,      <span class="stringliteral">&quot;=Locate Allocation Delays=&quot;</span> }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><a class="code" href="Zakero__Profiler_8h.html#a8ceea5bce20025d829bdf08fdc760a94">ZAKERO_PROFILER_INIT_METADATA</a>(<span class="stringliteral">&quot;MyApp.profiler_json&quot;</span>, meta_data);</div>
</div><!-- fragment --><p class="interdd"><b>Step 3</b></p>
<p class="interdd">All the prep work is done, now it is time to generate some profiling data. <br  />
 To do this use one of these macros:</p><ul>
<li><a class="el" href="Zakero__Profiler_8h.html#a7fb46343893d03f6703c076e08ba9222" title="Generate profiler data.">ZAKERO_PROFILER_DURATION()</a></li>
<li><a class="el" href="Zakero__Profiler_8h.html#af0ee9f417543af61089189a8ba01bcbb" title="Generate profiler data.">ZAKERO_PROFILER_INSTANT()</a></li>
</ul>
<p class="interdd">The <a class="el" href="Zakero__Profiler_8h.html#a7fb46343893d03f6703c076e08ba9222" title="Generate profiler data.">ZAKERO_PROFILER_DURATION()</a> macro is best used at the start of a code block. Remember you do not have to put this macro after every '{', only add the macros where you need to capture data.</p>
<p class="interdd">For example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> func()</div>
<div class="line">{</div>
<div class="line">        <a class="code" href="Zakero__Profiler_8h.html#a7fb46343893d03f6703c076e08ba9222">ZAKERO_PROFILER_DURATION</a>(<span class="stringliteral">&quot;cache availability&quot;</span>, <span class="stringliteral">&quot;linear defrag&quot;</span>)</div>
<div class="line"> </div>
<div class="line">        do_stuff();</div>
<div class="line"> </div>
<div class="line">        if(!done)</div>
<div class="line">        {</div>
<div class="line">                <a class="code" href="Zakero__Profiler_8h.html#a7fb46343893d03f6703c076e08ba9222">ZAKERO_PROFILER_DURATION</a>(<span class="stringliteral">&quot;cache availability&quot;</span>, <span class="stringliteral">&quot;mo-defrag-in&quot;</span>)</div>
<div class="line"> </div>
<div class="line">                do_more_stuff();</div>
<div class="line">        }</div>
<div class="line">}</div>
</div><!-- fragment --><p class="interdd"><b>Step 4</b></p>
<p class="interdd">The program ran and you have profile data. It's time to look at it. Fire up one of the following browsers and...</p>
<p class="interdd"><em>Google Chrome</em></p>
<blockquote class="doxtable">
<p>Open a new tab and enter <b>chrome://tracing</b> for the URL. </p>
</blockquote>
<p class="interdd"><em>Chromium</em></p>
<blockquote class="doxtable">
<p>Open a new tab enter <b>about:tracing</b> for the URL. </p>
</blockquote>
<p class="enddd">Next, drag the <em>Zakero Profiler</em> output file into the tab to see your data. </p>
</dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.9.0<ul>
<li>Updated to use <a class="el" href="Zakero__Base_8h.html" title="Zakero Base.">Zakero_Base.h</a></li>
</ul>
</dd>
<dd>
0.8.2<ul>
<li>Bug fixes</li>
</ul>
</dd>
<dd>
0.8.1<ul>
<li>Bug fixes</li>
<li>Macro name changes</li>
</ul>
</dd>
<dd>
0.8.0<ul>
<li>Profile time duration in C++ code blocks</li>
<li>Add "instant" markers to the timeline</li>
</ul>
</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd><a href="https://www.mozilla.org/en-US/MPL/2.0/">Mozilla Public License v2</a></dd></dl>
<dl class="section author"><dt>Author</dt><dd>Andrew "Zakero" Moore<ul>
<li>Original Author</li>
</ul>
</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd><p class="startdd">Add meta data to ZAKERO_PROFILER_DURATION </p>
<p class="interdd">Add meta data to ZAKERO_PROFILER_INSTANT </p>
<p class="interdd">Add support for std::filesystem </p>
<p class="interdd">Add error handling </p>
<p class="enddd">Look into converting Duration to use a "Complete" event (phase = 'X'). </p>
</dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a3ac092a8bdae7abde5d56533a2962b1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ac092a8bdae7abde5d56533a2962b1f">&#9670;&nbsp;</a></span>ZAKERO_PROFILER_ACTIVATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZAKERO_PROFILER_ACTIVATE</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro will reactivate the generation of profiling data.</p>
<p>The use of ZAKERO_PROFILER_ACTIVATE and ZAKERO_PROFILER_DEACTIVATE macros allows the control of <em>when</em> profiling happens. Instead of having profiling data being generated for the entire runtime of an application, an event can be used to call these macros so that only the profiling data of the area of interest is generated.</p>
<p>If <em>Zakero Profiler</em> has been enabled at compile-time, by defining the ZAKERO_PROFILER_ENABLE macro, then profiling is automatically active. To have the profiler manually/programmatically activated, call ZAKERO_PROFILER_DEACTIVATE immediately after initialization.</p>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">        <a class="code" href="Zakero__Profiler_8h.html#aebd421bc3f379654c8c967b5d31de6d1">ZAKERO_PROFILER_INIT</a>(<span class="stringliteral">&quot;profiler.json&quot;</span>)</div>
<div class="line">        <a class="code" href="Zakero__Profiler_8h.html#ac845a1a392f5844e9a3b48d51e000ad6">ZAKERO_PROFILER_DEACTIVATE</a></div>
<div class="line"> </div>
<div class="line">        eventLoop();</div>
<div class="line"> </div>
<div class="line">        return 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> onEsc()</div>
<div class="line">{</div>
<div class="line">        stopEventLoop();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> onF12()</div>
<div class="line">{</div>
<div class="line">        <a class="code" href="Zakero__Profiler_8h.html#a3ac092a8bdae7abde5d56533a2962b1f">ZAKERO_PROFILER_ACTIVATE</a></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> onShiftF12()</div>
<div class="line">{</div>
<div class="line">        <a class="code" href="Zakero__Profiler_8h.html#ac845a1a392f5844e9a3b48d51e000ad6">ZAKERO_PROFILER_DEACTIVATE</a></div>
<div class="line">}</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="Zakero__Profiler_8h.html#ac845a1a392f5844e9a3b48d51e000ad6" title="Deactivate Profiling.">ZAKERO_PROFILER_DEACTIVATE</a> </dd></dl>

</div>
</div>
<a id="ac845a1a392f5844e9a3b48d51e000ad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac845a1a392f5844e9a3b48d51e000ad6">&#9670;&nbsp;</a></span>ZAKERO_PROFILER_DEACTIVATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZAKERO_PROFILER_DEACTIVATE</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The generation of profiling data can be temporarily stopped with this macro.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="Zakero__Profiler_8h.html#a3ac092a8bdae7abde5d56533a2962b1f" title="Activate Profiling.">ZAKERO_PROFILER_ACTIVATE</a> </dd></dl>

</div>
</div>
<a id="a7fb46343893d03f6703c076e08ba9222"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fb46343893d03f6703c076e08ba9222">&#9670;&nbsp;</a></span>ZAKERO_PROFILER_DURATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZAKERO_PROFILER_DURATION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">category_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name_&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro will generate a "duration" profiler event, meaning that the time when the macro was executed is recorded and the time when current code block goes out-of-scope is also recorded.</p>
<p>The <code>category_</code> can be used to group together related <code>name_</code> data. For example, profiling a C++ class could use the class name for the category and the <code>name_</code> would be the part of the class being profiled.</p>
<dl class="section note"><dt>Note</dt><dd>The file name and function name are automatically recorded.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> func()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="Zakero__Profiler_8h.html#a7fb46343893d03f6703c076e08ba9222">ZAKERO_PROFILER_DURATION</a>(<span class="stringliteral">&quot;busy&quot;</span>, <span class="stringliteral">&quot;doing stuff&quot;</span>)</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Doing stuff</span></div>
<div class="line">    </div>
<div class="line">    for(<span class="keywordtype">int</span> i = 0; i &lt; max_i; i++)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="Zakero__Profiler_8h.html#a7fb46343893d03f6703c076e08ba9222">ZAKERO_PROFILER_DURATION</a>(<span class="stringliteral">&quot;busy&quot;</span>, <span class="stringliteral">&quot;gone loopy&quot;</span>)</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Doing more stuff</span></div>
<div class="line">        </div>
<div class="line">        if(i % magic)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="Zakero__Profiler_8h.html#af0ee9f417543af61089189a8ba01bcbb">ZAKERO_PROFILER_INSTANT</a>(<span class="stringliteral">&quot;busy&quot;</span>, <span class="stringliteral">&quot;shhh, it&#39;s magic&quot;</span>)</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Doing magic stuff</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">category_</td><td>The category of the data </td></tr>
    <tr><td class="paramname">name_</td><td>The name of the data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab349b39120e78e1fcf5ebb78caf64a8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab349b39120e78e1fcf5ebb78caf64a8d">&#9670;&nbsp;</a></span>ZAKERO_PROFILER_ENABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZAKERO_PROFILER_ENABLE</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The <em>Zakero Profiler</em> is a macro based system. When this macro is defined, the macros will be replaced with code. If this macro is <b>not</b> defined, the macros will be removed at compile time.</p>
<dl class="section note"><dt>Note</dt><dd>It does not matter if the macro is given a value or not, only its existence is checked. </dd></dl>

</div>
</div>
<a id="aae3a1c9d9e314ee27b744c227291b08d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae3a1c9d9e314ee27b744c227291b08d">&#9670;&nbsp;</a></span>ZAKERO_PROFILER_IMPLEMENTATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZAKERO_PROFILER_IMPLEMENTATION</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defining this macro will cause the <em>Zakero Profiler</em> implementation to be included. This should only be done once, since compiler and/or linker errors will typically be generated if more than a single implementation is found.</p>
<dl class="section note"><dt>Note</dt><dd>It does not matter if the macro is given a value or not, only its existence is checked. </dd></dl>

</div>
</div>
<a id="aebd421bc3f379654c8c967b5d31de6d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebd421bc3f379654c8c967b5d31de6d1">&#9670;&nbsp;</a></span>ZAKERO_PROFILER_INIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZAKERO_PROFILER_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">output_</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The profiler <b>must</b> be initialized before any of the other macros are used.</p>
<p>The <code>output_</code> can be a file name or a <em>std::ostream</em> object. If a <em>std::ostream</em> object is used, the profiler will use a pointer to that stream. This means the provided <code>output_</code> stream must remain valid for the life of the profiler.</p>
<p>However, if a file name is given, then the profiler will maintain the life-span of the file. Behavior is undefined (i.e. expect a crash) if the provided file name is not writable.</p>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code" href="Zakero__Profiler_8h.html#aebd421bc3f379654c8c967b5d31de6d1">ZAKERO_PROFILER_INIT</a>(std::clog);</div>
<div class="line"><span class="comment">// --- or --- //</span></div>
<div class="line"><a class="code" href="Zakero__Profiler_8h.html#aebd421bc3f379654c8c967b5d31de6d1">ZAKERO_PROFILER_INIT</a>(<span class="stringliteral">&quot;profile.log&quot;</span>);</div>
</div><!-- fragment --></dd></dl>
<dl class="section note"><dt>Note</dt><dd>The <em>Zakero Profiler</em> does not flush after writing data to the output using the stream operator (&lt;&lt;). The reason for this is to allow the operating system to decide the best time to write the data, reducing the number of I/O requests the profiler makes. As a result of this, profiling data will be incomplete if the application does not cleanly exit.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="Zakero__Profiler_8h.html#a8ceea5bce20025d829bdf08fdc760a94" title="Initialize the profiler.">ZAKERO_PROFILER_INIT_METADATA()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">output_</td><td>Where to stream the profile data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8ceea5bce20025d829bdf08fdc760a94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ceea5bce20025d829bdf08fdc760a94">&#9670;&nbsp;</a></span>ZAKERO_PROFILER_INIT_METADATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZAKERO_PROFILER_INIT_METADATA</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">output_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">meta_data_&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The profiler <b>must</b> be initialized before any of the other macros are used.</p>
<p>The <code>output_</code> can be a file name or a <em>std::ostream</em> object. If a <em>std::ostream</em> object is used, the profiler will use a pointer to that stream. This means the provided <code>output_</code> stream must remain valid for the life of the profiler.</p>
<p>However, if a file name is given, then the profiler will maintain the life-span of the file. Behavior is undefined (i.e. expect a crash) if the provided file name is not writable.</p>
<p>Any extra data that should appear in the profiler output can be added using the <code>meta_data_</code>. <code>meta_data_</code> is a map of <em>std::string/std::string</em> key/value pairs. The "date" key will be automatically added if not already present. The following keys will be over written if used:</p><ul>
<li>displayTimeUnit</li>
<li>traceEvents</li>
</ul>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">zakero::Profiler::MetaData meta_data =</div>
<div class="line">{       { <span class="stringliteral">&quot;application&quot;</span>, <span class="stringliteral">&quot;MyApp&quot;</span> }</div>
<div class="line">,       { <span class="stringliteral">&quot;version&quot;</span>,     <span class="stringliteral">&quot;1.2.3&quot;</span> }</div>
<div class="line">};</div>
<div class="line"><a class="code" href="Zakero__Profiler_8h.html#a8ceea5bce20025d829bdf08fdc760a94">ZAKERO_PROFILER_INIT_METADATA</a>(<span class="stringliteral">&quot;MyApp.profile_json&quot;</span>, meta_data);</div>
</div><!-- fragment --></dd></dl>
<dl class="section note"><dt>Note</dt><dd>The <em>Zakero Profiler</em> does not flush after writing data to the output using the stream operator (&lt;&lt;). The reason for this is to allow the operating system to decide the best time to write the data, reducing the number of I/O requests the profiler makes. As a result of this, profiling data will be incomplete if the application does not cleanly exit.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="Zakero__Profiler_8h.html#aebd421bc3f379654c8c967b5d31de6d1" title="Initialize the profiler.">ZAKERO_PROFILER_INIT()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">output_</td><td>Where to stream the profile data </td></tr>
    <tr><td class="paramname">meta_data_</td><td>Extra data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af0ee9f417543af61089189a8ba01bcbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0ee9f417543af61089189a8ba01bcbb">&#9670;&nbsp;</a></span>ZAKERO_PROFILER_INSTANT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZAKERO_PROFILER_INSTANT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">category_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name_&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro will generate an "instant" event. These events are useful to mark something in the timeline.</p>
<p>The <code>category_</code> and <code>name_</code> serve the same function as in <a class="el" href="Zakero__Profiler_8h.html#a7fb46343893d03f6703c076e08ba9222" title="Generate profiler data.">ZAKERO_PROFILER_DURATION()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">category_</td><td>The category of the data </td></tr>
    <tr><td class="paramname">name_</td><td>The name of the data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="aZakero__Profiler_8h_html_a7fb46343893d03f6703c076e08ba9222"><div class="ttname"><a href="Zakero__Profiler_8h.html#a7fb46343893d03f6703c076e08ba9222">ZAKERO_PROFILER_DURATION</a></div><div class="ttdeci">#define ZAKERO_PROFILER_DURATION(category_, name_)</div><div class="ttdoc">Generate profiler data.</div><div class="ttdef"><b>Definition:</b> Zakero_Profiler.h:448</div></div>
<div class="ttc" id="aZakero__Profiler_8h_html_af0ee9f417543af61089189a8ba01bcbb"><div class="ttname"><a href="Zakero__Profiler_8h.html#af0ee9f417543af61089189a8ba01bcbb">ZAKERO_PROFILER_INSTANT</a></div><div class="ttdeci">#define ZAKERO_PROFILER_INSTANT(category_, name_)</div><div class="ttdoc">Generate profiler data.</div><div class="ttdef"><b>Definition:</b> Zakero_Profiler.h:467</div></div>
<div class="ttc" id="aZakero__Profiler_8h_html_aebd421bc3f379654c8c967b5d31de6d1"><div class="ttname"><a href="Zakero__Profiler_8h.html#aebd421bc3f379654c8c967b5d31de6d1">ZAKERO_PROFILER_INIT</a></div><div class="ttdeci">#define ZAKERO_PROFILER_INIT(output_)</div><div class="ttdoc">Initialize the profiler.</div><div class="ttdef"><b>Definition:</b> Zakero_Profiler.h:285</div></div>
<div class="ttc" id="aZakero__Profiler_8h_html_ac845a1a392f5844e9a3b48d51e000ad6"><div class="ttname"><a href="Zakero__Profiler_8h.html#ac845a1a392f5844e9a3b48d51e000ad6">ZAKERO_PROFILER_DEACTIVATE</a></div><div class="ttdeci">#define ZAKERO_PROFILER_DEACTIVATE</div><div class="ttdoc">Deactivate Profiling.</div><div class="ttdef"><b>Definition:</b> Zakero_Profiler.h:389</div></div>
<div class="ttc" id="aZakero__Profiler_8h_html_a3ac092a8bdae7abde5d56533a2962b1f"><div class="ttname"><a href="Zakero__Profiler_8h.html#a3ac092a8bdae7abde5d56533a2962b1f">ZAKERO_PROFILER_ACTIVATE</a></div><div class="ttdeci">#define ZAKERO_PROFILER_ACTIVATE</div><div class="ttdoc">Activate Profiling.</div><div class="ttdef"><b>Definition:</b> Zakero_Profiler.h:379</div></div>
<div class="ttc" id="aZakero__Profiler_8h_html_a8ceea5bce20025d829bdf08fdc760a94"><div class="ttname"><a href="Zakero__Profiler_8h.html#a8ceea5bce20025d829bdf08fdc760a94">ZAKERO_PROFILER_INIT_METADATA</a></div><div class="ttdeci">#define ZAKERO_PROFILER_INIT_METADATA(output_, meta_data_)</div><div class="ttdoc">Initialize the profiler.</div><div class="ttdef"><b>Definition:</b> Zakero_Profiler.h:330</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
